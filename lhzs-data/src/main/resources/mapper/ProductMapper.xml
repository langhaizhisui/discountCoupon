<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.lhzs.data.dao.ProductMapper" >
  <resultMap id="BaseResultMap" type="cn.lhzs.data.bean.Product" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="prod_id" property="prodId" jdbcType="BIGINT" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="banner" property="banner" jdbcType="VARCHAR" />
    <result column="detail" property="detail" jdbcType="VARCHAR" />
    <result column="category" property="category" jdbcType="VARCHAR" />
    <result column="price" property="price" jdbcType="DOUBLE" />
    <result column="discount_price" property="discountPrice" jdbcType="DOUBLE" />
    <result column="discount_desc" property="discountDesc" jdbcType="VARCHAR" />
    <result column="platform" property="platform" jdbcType="VARCHAR" />
    <result column="save_price" property="savePrice" jdbcType="DOUBLE" />
    <result column="prod_generalize" property="prodGeneralize" jdbcType="VARCHAR" />
    <result column="expiration" property="expiration" jdbcType="VARCHAR" />
    <result column="scan_num" property="scanNum" jdbcType="INTEGER" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    prod_id, name, banner, detail, category, price, discount_price, discount_desc, platform, 
    save_price, prod_generalize, expiration, scan_num, create_time, update_time
  </sql>
  <sql id="Select_Where_Sql">
    <if test="prodId != null">
      and prod_id = #{prodId}
    </if>
    <if test="name != null">
      and name = #{name}
    </if>
    <if test="banner != null">
      and banner = #{banner}
    </if>
    <if test="detail != null">
      and detail = #{detail}
    </if>
    <if test="category != null">
      and category = #{category}
    </if>
    <if test="price != null">
      and price = #{price}
    </if>
    <if test="discountPrice != null">
      and discount_price = #{discountPrice}
    </if>
    <if test="discountDesc != null">
      and discount_desc = #{discountDesc}
    </if>
    <if test="platform != null">
      and platform = #{platform}
    </if>
    <if test="prodGeneralize != null">
      and prod_generalize = #{prodGeneralize}
    </if>
    <if test="scanNum != null">
      and scan_num = #{scanNum}
    </if>
    <if test="createTime != null">
      and create_time = #{createTime}
    </if>
    <if test="updateTime != null">
      and update_time = #{updateTime}
    </if>
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from product
    where prod_id = #{prodId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from product
    where prod_id = #{prodId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="cn.lhzs.data.bean.Product" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into product (prod_id, name, banner, 
      detail, category, price, 
      discount_price, discount_desc, platform, 
      save_price, prod_generalize, expiration, 
      scan_num, create_time, update_time
      )
    values (#{prodId,jdbcType=BIGINT}, #{name,jdbcType=VARCHAR}, #{banner,jdbcType=VARCHAR}, 
      #{detail,jdbcType=VARCHAR}, #{category,jdbcType=VARCHAR}, #{price,jdbcType=DOUBLE}, 
      #{discountPrice,jdbcType=DOUBLE}, #{discountDesc,jdbcType=VARCHAR}, #{platform,jdbcType=VARCHAR}, 
      #{savePrice,jdbcType=DOUBLE}, #{prodGeneralize,jdbcType=VARCHAR}, #{expiration,jdbcType=VARCHAR}, 
      #{scanNum,jdbcType=INTEGER}, #{createTime,jdbcType=TIMESTAMP}, #{updateTime,jdbcType=TIMESTAMP}
      )
  </insert>
  <insert id="insertSelective" parameterType="cn.lhzs.data.bean.Product" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into product
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="prodId != null" >
        prod_id,
      </if>
      <if test="name != null" >
        name,
      </if>
      <if test="banner != null" >
        banner,
      </if>
      <if test="detail != null" >
        detail,
      </if>
      <if test="category != null" >
        category,
      </if>
      <if test="price != null" >
        price,
      </if>
      <if test="discountPrice != null" >
        discount_price,
      </if>
      <if test="discountDesc != null" >
        discount_desc,
      </if>
      <if test="platform != null" >
        platform,
      </if>
      <if test="savePrice != null" >
        save_price,
      </if>
      <if test="prodGeneralize != null" >
        prod_generalize,
      </if>
      <if test="expiration != null" >
        expiration,
      </if>
      <if test="scanNum != null" >
        scan_num,
      </if>
      <if test="createTime != null" >
        create_time,
      </if>
      <if test="updateTime != null" >
        update_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="prodId != null" >
        #{prodId,jdbcType=BIGINT},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="banner != null" >
        #{banner,jdbcType=VARCHAR},
      </if>
      <if test="detail != null" >
        #{detail,jdbcType=VARCHAR},
      </if>
      <if test="category != null" >
        #{category,jdbcType=VARCHAR},
      </if>
      <if test="price != null" >
        #{price,jdbcType=DOUBLE},
      </if>
      <if test="discountPrice != null" >
        #{discountPrice,jdbcType=DOUBLE},
      </if>
      <if test="discountDesc != null" >
        #{discountDesc,jdbcType=VARCHAR},
      </if>
      <if test="platform != null" >
        #{platform,jdbcType=VARCHAR},
      </if>
      <if test="savePrice != null" >
        #{savePrice,jdbcType=DOUBLE},
      </if>
      <if test="prodGeneralize != null" >
        #{prodGeneralize,jdbcType=VARCHAR},
      </if>
      <if test="expiration != null" >
        #{expiration,jdbcType=VARCHAR},
      </if>
      <if test="scanNum != null" >
        #{scanNum,jdbcType=INTEGER},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="cn.lhzs.data.bean.Product" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update product
    <set >
      <if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="banner != null" >
        banner = #{banner,jdbcType=VARCHAR},
      </if>
      <if test="detail != null" >
        detail = #{detail,jdbcType=VARCHAR},
      </if>
      <if test="category != null" >
        category = #{category,jdbcType=VARCHAR},
      </if>
      <if test="price != null" >
        price = #{price,jdbcType=DOUBLE},
      </if>
      <if test="discountPrice != null" >
        discount_price = #{discountPrice,jdbcType=DOUBLE},
      </if>
      <if test="discountDesc != null" >
        discount_desc = #{discountDesc,jdbcType=VARCHAR},
      </if>
      <if test="platform != null" >
        platform = #{platform,jdbcType=VARCHAR},
      </if>
      <if test="savePrice != null" >
        save_price = #{savePrice,jdbcType=DOUBLE},
      </if>
      <if test="prodGeneralize != null" >
        prod_generalize = #{prodGeneralize,jdbcType=VARCHAR},
      </if>
      <if test="expiration != null" >
        expiration = #{expiration,jdbcType=VARCHAR},
      </if>
      <if test="scanNum != null" >
        scan_num = #{scanNum,jdbcType=INTEGER},
      </if>
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null" >
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where prod_id = #{prodId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="cn.lhzs.data.bean.Product" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update product
    set name = #{name,jdbcType=VARCHAR},
      banner = #{banner,jdbcType=VARCHAR},
      detail = #{detail,jdbcType=VARCHAR},
      category = #{category,jdbcType=VARCHAR},
      price = #{price,jdbcType=DOUBLE},
      discount_price = #{discountPrice,jdbcType=DOUBLE},
      discount_desc = #{discountDesc,jdbcType=VARCHAR},
      platform = #{platform,jdbcType=VARCHAR},
      save_price = #{savePrice,jdbcType=DOUBLE},
      prod_generalize = #{prodGeneralize,jdbcType=VARCHAR},
      expiration = #{expiration,jdbcType=VARCHAR},
      scan_num = #{scanNum,jdbcType=INTEGER},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      update_time = #{updateTime,jdbcType=TIMESTAMP}
    where prod_id = #{prodId,jdbcType=BIGINT}
  </update>
  <select id="selectProduct" parameterType="cn.lhzs.data.bean.Product" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from product where 1=1
    <include refid="Select_Where_Sql" />
    <if test="index != null and size !=null">
      limit #{index,jdbcType=INTEGER}, #{size,jdbcType=INTEGER}
    </if>
    <if test="lock != null">
      for update
    </if>
  </select>

  <select id="searchProduct" parameterType="java.util.Map" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from product where 1=1
    <include refid="Select_Where_Sql" />
    <if test="key != null" >
      and `name` LIKE #{key,jdbcType=VARCHAR}
    </if>
    <if test="expirationStart != null" >
      <![CDATA[ and expiration >= #{expirationStart,jdbcType=VARCHAR} and expiration <= #{expirationEnd,jdbcType=VARCHAR}]]>
    </if>
    <if test="createTimeStart != null" >
      <![CDATA[ and create_time >= #{createTimeStart,jdbcType=TIMESTAMP} and create_time <= #{createTimeEnd,jdbcType=TIMESTAMP}]]>
    </if>
    <if test="index != null and size !=null">
      limit #{index,jdbcType=INTEGER}, #{size,jdbcType=INTEGER}
    </if>
  </select>

  <select id="selectCount" parameterType="java.util.Map" resultType="java.lang.Long">
    select count(*) from product where 1=1
    <include refid="Select_Where_Sql" />
    <if test="key != null" >
      and `name` LIKE #{key,jdbcType=VARCHAR}
    </if>
    <if test="expirationStart != null" >
      <![CDATA[ and expiration >= #{expirationStart,jdbcType=VARCHAR} and expiration <= #{expirationEnd,jdbcType=VARCHAR}]]>
    </if>
    <if test="createTimeStart != null" >
      <![CDATA[ and create_time >= #{createTimeStart,jdbcType=TIMESTAMP} and create_time <= #{createTimeEnd,jdbcType=TIMESTAMP}]]>
    </if>
  </select>
</mapper>